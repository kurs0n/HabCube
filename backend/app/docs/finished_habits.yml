tags:
  - Habits
summary: Get finished/archived habits with streak status
description: >
  Returns a list of all **non-active/archived** habits, including their best streak 
  and a success status flag (True if best_streak >= 21). This endpoint 
  filters by Habit.active = False.

responses:
  200:
    description: List of archived habits with computed streak status
    schema:
      type: object
      properties:
        habits:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                example: 1
              name:
                type: string
                example: "Drink water"
              description:
                type: string
                example: "Drink 8 glasses of water daily"
              icon:
                type: string
                example: "gift"
              best_streak:
                type: integer
                example: 35
                description: The best consecutive streak achieved for this habit.
              success_status:
                type: boolean
                example: true
                description: True if best_streak is 21 or more.
              finish_date:
                type: string
                example: "2025-11-15"
                description: The last day the habit was completed (from HabitStatistics).
              color:
                type: string
                example: "gray"
    examples:
      success:
        habits:
          - id: 1
            name: "Completed Project X"
            description: "Finished reading one book per month."
            icon: "book"
            best_streak: 45
            success_status: true
            finish_date: "2025-11-18"
            color: "blue"
          - id: 2
            name: "Failed Diet"
            description: "Tried to eat vegan for a month."
            icon: "pizza"
            best_streak: 10
            success_status: false
            finish_date: "2025-09-01"
            color: "red"
  500:
    description: Server error
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Failed to fetch habits: Database connection error"